# Android アプリインストールガイド

## 📱 インストール前の準備

### 1. 不明なソースからのインストールを許可

Androidデバイスで以下の設定を有効にしてください：

1. **設定** アプリを開く
2. **セキュリティ** または **アプリケーション** を選択
3. **不明なソースからのアプリ** を有効化
   - Android 8.0以降: アプリごとに許可が必要

## 📥 APKのダウンロード

### GitHub Actionsから直接ダウンロード

1. [GitHub Actions](https://github.com/ayutaz/block-ad/actions) ページへアクセス
2. 最新の成功したビルドを選択
3. **Artifacts** セクションから以下をダウンロード：
   - `debug-apk`: テスト用（署名済み、すぐにインストール可能）
   - `release-apk`: リリース用（未署名、署名が必要）

### コマンドラインでダウンロード

```bash
# GitHub CLIを使用
gh run download <RUN_ID> --name debug-apk

# 例：
gh run download 16099974399 --name debug-apk
```

## 🔧 インストール手順

### デバッグAPKのインストール（推奨）

1. ダウンロードした `app-debug.apk` をAndroidデバイスに転送
2. ファイルマネージャーでAPKファイルをタップ
3. **インストール** をタップ
4. インストール完了後、**開く** をタップ

### ADBを使用したインストール

```bash
# USB デバッグを有効にしてから実行
adb install app-debug.apk

# 既存のアプリを上書きする場合
adb install -r app-debug.apk
```

## 🚀 アプリの使用方法

### 初回起動

1. アプリを開く
2. **VPN権限の許可** ダイアログが表示されたら **OK** をタップ
3. メイン画面でVPNスイッチをONにする

### 主な機能

- **VPNスイッチ**: 広告ブロック機能のON/OFF
- **統計情報**: ブロックした広告数、節約したデータ量を表示
- **フィルター更新**: 最新の広告ブロックリストに更新
- **設定**: 
  - フィルターの自動更新
  - YouTube広告ブロック

## ⚠️ 注意事項

### Android 13以降の通知権限

Android 13以降では、通知を表示するために明示的な権限が必要です：

1. アプリ起動時に通知権限のリクエストが表示される
2. **許可** をタップして通知を有効化

### バッテリー最適化の無効化

より安定した動作のため：

1. **設定** > **バッテリー** > **バッテリー最適化**
2. **AdBlock** アプリを選択
3. **最適化しない** を選択

## 🐛 トラブルシューティング

### VPNが接続できない

1. 他のVPNアプリが動作していないか確認
2. アプリを再起動
3. デバイスを再起動

### 広告がブロックされない

1. VPNが「保護中」になっているか確認
2. フィルターリストを更新
3. アプリのキャッシュをクリア

### インストールできない

1. 不明なソースからのインストールが許可されているか確認
2. ストレージ容量を確認（約30MB必要）
3. Androidバージョンを確認（最小: Android 7.0）

## 📊 動作確認済み環境

- Android 7.0 (API 24) 以上
- ARM64、ARMv7、x86、x86_64 アーキテクチャ
- メモリ使用量: 約20-30MB

## 🔄 アップデート方法

新しいバージョンがリリースされた場合：

1. 最新のAPKをダウンロード
2. 既存のアプリの上にインストール（データは保持される）

## 📝 フィードバック

問題や要望がある場合は、[GitHubのIssues](https://github.com/ayutaz/block-ad/issues)でお知らせください。