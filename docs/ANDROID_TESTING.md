# Android アプリテストガイド

## 🧪 テスト項目チェックリスト

### 基本機能テスト

#### VPN接続
- [ ] VPNスイッチをONにして接続確認
- [ ] VPNスイッチをOFFにして切断確認
- [ ] VPN接続中のステータス表示確認
- [ ] VPN権限ダイアログの表示確認

#### 広告ブロック機能
- [ ] 一般的な広告サイトへのアクセステスト
  - `doubleclick.net`
  - `googleadservices.com`
  - `googlesyndication.com`
- [ ] YouTube広告ブロックテスト
  - YouTube動画再生前の広告
  - 動画途中の広告
- [ ] アプリ内広告のブロックテスト

#### 統計情報
- [ ] ブロック数のカウントアップ確認
- [ ] 許可数のカウントアップ確認
- [ ] ブロック率の計算確認
- [ ] データ節約量の表示確認
- [ ] 統計リセット機能の動作確認

#### フィルター管理
- [ ] フィルター更新ボタンの動作確認
- [ ] 更新時のプログレス表示確認
- [ ] エラー時のメッセージ表示確認

### 互換性テスト

#### デバイステスト
- [ ] Android 7.0 (API 24)
- [ ] Android 8.0 (API 26)
- [ ] Android 9.0 (API 28)
- [ ] Android 10 (API 29)
- [ ] Android 11 (API 30)
- [ ] Android 12 (API 31)
- [ ] Android 13 (API 33)
- [ ] Android 14 (API 34)

#### アーキテクチャテスト
- [ ] ARM64デバイス
- [ ] ARMv7デバイス
- [ ] x86エミュレータ
- [ ] x86_64エミュレータ

### パフォーマンステスト

#### メモリ使用量
```bash
# ADBで確認
adb shell dumpsys meminfo com.adblock
```
- [ ] 待機時: 30MB以下
- [ ] 動作時: 50MB以下

#### バッテリー消費
- [ ] 1時間の使用でバッテリー消費5%以下
- [ ] バックグラウンド動作時の消費確認

#### 応答速度
- [ ] VPN接続: 3秒以内
- [ ] ページ読み込み: 通常時と比較して+10%以内

### セキュリティテスト

- [ ] VPN接続の暗号化確認
- [ ] DNSリークテスト
- [ ] IPリークテスト
- [ ] ログの保存確認（個人情報が含まれていないこと）

### UIテスト

#### ダークモード
- [ ] システムのダークモード設定に追従
- [ ] UIの視認性確認

#### 画面回転
- [ ] 縦→横の回転時のレイアウト確認
- [ ] 横→縦の回転時のレイアウト確認
- [ ] 回転時のデータ保持確認

#### アクセシビリティ
- [ ] TalkBack対応確認
- [ ] 文字サイズ変更対応確認

### エッジケーステスト

#### ネットワーク状態
- [ ] Wi-Fi接続時の動作
- [ ] モバイルデータ接続時の動作
- [ ] 機内モード時の動作
- [ ] ネットワーク切り替え時の動作

#### アプリ状態
- [ ] バックグラウンド移行時の動作
- [ ] メモリ不足時の動作
- [ ] 強制終了後の復帰

#### 同時利用
- [ ] 他のVPNアプリとの競合確認
- [ ] プロキシ設定との互換性確認

## 📱 テストツール

### Android Studio
```bash
# エミュレータでのテスト
emulator -avd Pixel_5_API_30
adb install app-debug.apk
```

### Firebase Test Lab
```bash
# Cloud Testingの実行
gcloud firebase test android run \
  --app app-debug.apk \
  --device model=Pixel2,version=28,locale=ja,orientation=portrait
```

### Monkey テスト
```bash
# ランダムな操作でのストレステスト
adb shell monkey -p com.adblock -v 10000
```

## 🐛 既知の問題

### Android 13以降
- 通知権限が必要（POST_NOTIFICATIONS）
- 初回起動時に権限リクエストが表示される

### 一部のデバイス
- Samsung: Smart Manager による最適化で VPN が切断される場合がある
- Xiaomi: MIUI のバッテリー最適化で背景動作が制限される場合がある

## 📊 テスト結果記録

### テスト環境
- デバイス名:
- Androidバージョン:
- アプリバージョン:
- テスト日時:

### 結果サマリー
- 合格項目数: X/Y
- 不具合数: Z
- パフォーマンス: 良好/普通/要改善

### 詳細ログ
```
[テスト結果をここに記載]
```